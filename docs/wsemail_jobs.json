{
    "doc": {
        "name": "jobs",
        "type": "wsemail",
        "synopsis": "Create a job for wsform to handle",
        "description": "<p>WSform can be setup as a simple button that will start a job of emails to be send.<\/p><p>When sending a lot of emails, it might be a good idea to setup a mailjob and have wsform send it.<\/p><p>A mailjob is a Wikipage containing a JSON object with all the specific mails that need to be send.<\/p><p>The content of the body will be take from a template page. If that template has variables in them, you can replace them with <strong>variableKey<\/strong> and <strong>variableValue.<\/strong><\/p><p>variableKey and variableValue take their content in order. First variableKey belongs to the first variableValue, etc.. (see example)<br><\/p><br>",
        "parameters": "<br><p>wsemail with <strong>job<\/strong> parameter<\/p><p>Wiki page with a json object with a root of <strong>jobs<\/strong><br><\/p>",
        "example": "Form with the job trigger\r\n<wsform action=\"mail\">\r\n<wsemail job=\"WSForm_Mailjob_example\" \/>\r\n<wsfield type=\"submit\" value=\"Send test mail with job\" \/>\r\n<\/wsform>\r\n\r\n\r\nJob page json object (Title : WSForm_Mailjob_example)\r\n{ \"jobs\" : [\r\n{\r\n  \"to\" : \"larry@example.com\",\r\n  \"from\" : \"john@example.com\",\r\n  \"subject\" : \"Testing email with jobs\",\r\n  \"cc\" : \"\",\r\n  \"bcc\" : \"\",\r\n  \"template\" : \"WSForm_mail_jobtemplate\",\r\n  \"header\" : \"WSForm_mail_header\",\r\n  \"footer\" : \"WSForm_mail_footer\",\r\n  \"html\" : \"yes\",\r\n  \"variableKey\" : \"name,street,number,city\",\r\n  \"variableValue\" : \"Larry,test street,test number,test city\"\r\n},\r\n{\r\n  \"to\" : \"vicky@example.com\",\r\n  \"from\" : \"john@example.com\",\r\n  \"subject\" : \"Testing email with jobs\",\r\n  \"cc\" : \"\",\r\n  \"bcc\" : \"\",\r\n  \"template\" : \"WSForm_mail_jobtemplate\",\r\n  \"header\" : \"WSForm_mail_header\",\r\n  \"footer\" : \"WSForm_mail_footer\",\r\n  \"html\" : \"yes\",\r\n  \"variableKey\" : \"name,street,number,city\",\r\n  \"variableValue\" : \"Vicky,test street,test number,test city\"\r\n},\r\n{\r\n  \"to\" : \"\"willy@example.com\",\r\n  \"from\" : \"john@example.com\",\r\n  \"subject\" : \"Testing email with jobs\",\r\n  \"cc\" : \"\",\r\n  \"bcc\" : \"\",\r\n  \"template\" : \"WSForm_mail_jobtemplate\",\r\n  \"header\" : \"WSForm_mail_header\",\r\n  \"footer\" : \"WSForm_mail_footer\",\r\n  \"html\" : \"yes\",\r\n  \"variableKey\" : \"name,street,number,city\",\r\n  \"variableValue\" : \"Willy,test street,test number,test city\"\r\n}\r\n]}\r\n\r\nTemplate page used in Job (Title : WSForm_mail_jobtemplate)\r\n<p>Dear $name,<\/p>\r\n\r\n<p>This is an automated email message using jobs <b>and<\/b> atemplate.<\/p>\r\n<p><br \/><\/p>\r\n<p>Here are the other variables ..<\/p>\r\n<p>Your street : $street<\/p>\r\n<p>Your number : $number<\/p>\r\n<p>Your city : $city<\/p>\r\n<p><br \/><\/p>\r\n\r\n<p><br \/><\/p>\r\n<p>Regards,<\/p>\r\n<p><\/p>\r\n<p>WSForm<\/p>",
        "note": "..",
        "links": "..",
        "created": "27-03-2019 09:03:35",
        "created_by": "",
        "last modified": "27-03-2019 09:41:17",
        "modified by": "Charlot Cobben"
    }
}